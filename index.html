<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Advanced WordPress REST API Explorer - Test, explore, and document WordPress REST APIs with ease">
    <meta name="keywords" content="WordPress, REST API, API Explorer, API Testing, WordPress Development">
    <title>WordPress REST API Explorer Pro</title>
    
    <!-- Iconify Icons -->
    <script src="https://code.iconify.design/3/3.1.0/iconify.min.js"></script>
    
    <!-- Prism.js for syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Upload Screen -->
        <div id="uploadScreen" class="upload-screen">
            <div class="upload-icon">
                <span class="iconify" data-icon="mdi:api" data-width="60"></span>
            </div>
            <h1>WordPress REST API Explorer Pro</h1>
            <p class="upload-description">
                Upload your WordPress REST API JSON file or load it directly from a URL to explore, test, and document all available endpoints.
            </p>
            
            <div class="upload-options">
                <label for="fileInput" class="upload-btn">
                    <span class="iconify" data-icon="mdi:file-upload"></span>
                    Upload JSON File
                </label>
                <input type="file" id="fileInput" accept=".json" class="hidden">
            </div>

            <div class="divider">
                <span>OR</span>
            </div>

            <div class="url-input-section">
                <input 
                    type="url" 
                    id="urlInput" 
                    placeholder="https://example.com/wp-json"
                    class="url-input"
                >
                <button id="loadUrlBtn" class="upload-btn">
                    <span class="iconify" data-icon="mdi:web"></span>
                    Load from URL
                </button>
                <p id="urlError" class="hidden error-message"></p>
                <p id="urlLoading" class="hidden loading-message">
                    <span class="iconify rotating" data-icon="mdi:loading"></span>
                    Loading API data...
                </p>
            </div>

            <div class="demo-section">
                <button id="loadDemoBtn" class="demo-btn">
                    <span class="iconify" data-icon="mdi:play-circle"></span>
                    Try Demo API
                </button>
            </div>
        </div>

        <!-- Main App -->
        <div id="mainApp" class="hidden">
            <!-- Header -->
            <header class="header">
                <div class="header-top">
                    <div class="header-title">
                        <span class="iconify" data-icon="mdi:api" data-width="40"></span>
                        <div>
                            <h2 id="apiName">WordPress REST API</h2>
                            <div id="apiUrl" class="header-url"></div>
                        </div>
                    </div>
                    <div class="header-actions">
                        <button id="themeToggle" class="icon-btn" title="Toggle Dark Mode">
                            <span class="iconify" data-icon="mdi:theme-light-dark"></span>
                        </button>
                        <button id="exportBtn" class="icon-btn" title="Export Data">
                            <span class="iconify" data-icon="mdi:download"></span>
                        </button>
                        <button id="settingsBtn" class="icon-btn" title="Settings">
                            <span class="iconify" data-icon="mdi:cog"></span>
                        </button>
                        <label for="reloadFile" class="reload-btn">
                            <span class="iconify" data-icon="mdi:refresh"></span>
                            Load Different File
                        </label>
                        <input type="file" id="reloadFile" accept=".json" class="hidden">
                    </div>
                </div>
                <div id="apiDescription" class="api-description"></div>
                <div class="stats-grid" id="statsGrid"></div>
            </header>

            <!-- Tabs Navigation -->
            <div class="tabs-container">
                <button class="tab-btn active" data-tab="explorer">
                    <span class="iconify" data-icon="mdi:compass"></span>
                    Explorer
                </button>
                <button class="tab-btn" data-tab="tester">
                    <span class="iconify" data-icon="mdi:test-tube"></span>
                    API Tester
                </button>
                <button class="tab-btn" data-tab="history">
                    <span class="iconify" data-icon="mdi:history"></span>
                    History
                    <span class="badge" id="historyBadge">0</span>
                </button>
                <button class="tab-btn" data-tab="favorites">
                    <span class="iconify" data-icon="mdi:star"></span>
                    Favorites
                    <span class="badge" id="favoritesBadge">0</span>
                </button>
                <button class="tab-btn" data-tab="docs">
                    <span class="iconify" data-icon="mdi:book-open"></span>
                    Documentation
                </button>
            </div>

            <!-- Explorer Tab -->
            <div id="explorerTab" class="tab-content active">
                <!-- Filters -->
                <div class="filters">
                    <div class="filters-content">
                        <div class="search-box">
                            <span class="iconify search-icon" data-icon="mdi:magnify"></span>
                            <input type="text" id="searchInput" placeholder="Search routes...">
                        </div>
                        <select id="namespaceFilter" class="filter-select">
                            <option value="ALL">All Namespaces</option>
                        </select>
                        <div class="method-filters" id="methodFilters"></div>
                    </div>
                </div>

                <!-- Content -->
                <div class="content-grid">
                    <div class="routes-panel">
                        <div class="panel-header">
                            <h3>Routes (<span id="routeCount">0</span>)</h3>
                            <div class="panel-actions">
                                <button id="expandAllBtn" class="small-btn">
                                    <span class="iconify" data-icon="mdi:unfold-more-horizontal"></span>
                                </button>
                                <button id="collapseAllBtn" class="small-btn">
                                    <span class="iconify" data-icon="mdi:unfold-less-horizontal"></span>
                                </button>
                            </div>
                        </div>
                        <div id="routesList"></div>
                    </div>
                    <div class="details-panel" id="detailsPanel">
                        <div class="empty-state">
                            <span class="iconify empty-icon" data-icon="mdi:information-outline"></span>
                            <p class="empty-text">Select a route to view details</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- API Tester Tab -->
            <div id="testerTab" class="tab-content">
                <div class="tester-container">
                    <div class="tester-form">
                        <h3>API Request Builder</h3>
                        
                        <div class="form-group">
                            <label>HTTP Method</label>
                            <select id="testMethod" class="form-control">
                                <option value="GET">GET</option>
                                <option value="POST">POST</option>
                                <option value="PUT">PUT</option>
                                <option value="PATCH">PATCH</option>
                                <option value="DELETE">DELETE</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Endpoint URL</label>
                            <input type="text" id="testEndpoint" class="form-control" placeholder="/wp-json/wp/v2/posts">
                        </div>

                        <div class="form-group">
                            <label>Headers (JSON)</label>
                            <textarea id="testHeaders" class="form-control code-input" rows="4" placeholder='{"Content-Type": "application/json"}'></textarea>
                        </div>

                        <div class="form-group">
                            <label>Request Body (JSON)</label>
                            <textarea id="testBody" class="form-control code-input" rows="6" placeholder='{"title": "Test Post"}'></textarea>
                        </div>

                        <div class="form-actions">
                            <button id="sendRequestBtn" class="primary-btn">
                                <span class="iconify" data-icon="mdi:send"></span>
                                Send Request
                            </button>
                            <button id="clearRequestBtn" class="secondary-btn">
                                <span class="iconify" data-icon="mdi:close"></span>
                                Clear
                            </button>
                            <button id="generateCodeBtn" class="secondary-btn">
                                <span class="iconify" data-icon="mdi:code-braces"></span>
                                Generate Code
                            </button>
                        </div>
                    </div>

                    <div class="tester-response">
                        <div class="response-header">
                            <h3>Response</h3>
                            <div class="response-actions">
                                <button id="copyResponseBtn" class="small-btn" title="Copy Response">
                                    <span class="iconify" data-icon="mdi:content-copy"></span>
                                </button>
                                <button id="formatResponseBtn" class="small-btn" title="Format JSON">
                                    <span class="iconify" data-icon="mdi:code-json"></span>
                                </button>
                            </div>
                        </div>
                        <div id="responseStatus" class="response-status"></div>
                        <div id="responseContainer" class="response-container">
                            <div class="empty-state">
                                <span class="iconify empty-icon" data-icon="mdi:send-circle-outline"></span>
                                <p class="empty-text">Send a request to see the response</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- History Tab -->
            <div id="historyTab" class="tab-content">
                <div class="history-container">
                    <div class="history-header">
                        <h3>Request History</h3>
                        <button id="clearHistoryBtn" class="secondary-btn">
                            <span class="iconify" data-icon="mdi:delete-sweep"></span>
                            Clear History
                        </button>
                    </div>
                    <div id="historyList" class="history-list">
                        <div class="empty-state">
                            <span class="iconify empty-icon" data-icon="mdi:history"></span>
                            <p class="empty-text">No request history yet</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Favorites Tab -->
            <div id="favoritesTab" class="tab-content">
                <div class="favorites-container">
                    <div class="favorites-header">
                        <h3>Favorite Routes</h3>
                        <button id="clearFavoritesBtn" class="secondary-btn">
                            <span class="iconify" data-icon="mdi:delete-sweep"></span>
                            Clear All
                        </button>
                    </div>
                    <div id="favoritesList" class="favorites-list">
                        <div class="empty-state">
                            <span class="iconify empty-icon" data-icon="mdi:star-outline"></span>
                            <p class="empty-text">No favorite routes yet. Click the star icon on any route to add it here.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Documentation Tab -->
            <div id="docsTab" class="tab-content">
                <div class="docs-container">
                    <div class="docs-header">
                        <h3>API Documentation</h3>
                        <div class="docs-actions">
                            <button id="exportDocsBtn" class="primary-btn">
                                <span class="iconify" data-icon="mdi:file-document"></span>
                                Export as Markdown
                            </button>
                            <button id="exportPostmanBtn" class="secondary-btn">
                                <span class="iconify" data-icon="mdi:api"></span>
                                Export Postman Collection
                            </button>
                        </div>
                    </div>
                    <div id="docsContent" class="docs-content"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modals -->
    <!-- Export Modal -->
    <div id="exportModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Export Data</h3>
                <button class="close-modal">
                    <span class="iconify" data-icon="mdi:close"></span>
                </button>
            </div>
            <div class="modal-body">
                <button class="export-option" data-format="json">
                    <span class="iconify" data-icon="mdi:code-json"></span>
                    <div>
                        <strong>Export as JSON</strong>
                        <p>Download the complete API data</p>
                    </div>
                </button>
                <button class="export-option" data-format="csv">
                    <span class="iconify" data-icon="mdi:file-delimited"></span>
                    <div>
                        <strong>Export as CSV</strong>
                        <p>Routes and methods in spreadsheet format</p>
                    </div>
                </button>
                <button class="export-option" data-format="markdown">
                    <span class="iconify" data-icon="mdi:language-markdown"></span>
                    <div>
                        <strong>Export as Markdown</strong>
                        <p>Human-readable documentation</p>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Code Generator Modal -->
    <div id="codeModal" class="modal hidden">
        <div class="modal-content large">
            <div class="modal-header">
                <h3>Code Generator</h3>
                <button class="close-modal">
                    <span class="iconify" data-icon="mdi:close"></span>
                </button>
            </div>
            <div class="modal-body">
                <div class="code-tabs">
                    <button class="code-tab active" data-lang="curl">cURL</button>
                    <button class="code-tab" data-lang="javascript">JavaScript</button>
                    <button class="code-tab" data-lang="python">Python</button>
                    <button class="code-tab" data-lang="php">PHP</button>
                </div>
                <div class="code-container">
                    <button class="copy-code-btn" title="Copy Code">
                        <span class="iconify" data-icon="mdi:content-copy"></span>
                    </button>
                    <pre><code id="generatedCode" class="language-bash"></code></pre>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Settings</h3>
                <button class="close-modal">
                    <span class="iconify" data-icon="mdi:close"></span>
                </button>
            </div>
            <div class="modal-body">
                <div class="setting-item">
                    <label>
                        <input type="checkbox" id="autoFormatJson">
                        Auto-format JSON responses
                    </label>
                </div>
                <div class="setting-item">
                    <label>
                        <input type="checkbox" id="saveHistory" checked>
                        Save request history
                    </label>
                </div>
                <div class="setting-item">
                    <label>
                        <input type="checkbox" id="showLineNumbers">
                        Show line numbers in code
                    </label>
                </div>
                <div class="setting-item">
                    <label>Request Timeout (seconds)</label>
                    <input type="number" id="requestTimeout" value="30" min="5" max="120">
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast hidden"></div>

    <!-- Prism.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-php.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>

    <!-- Custom JavaScript -->
    <script src="script.js"></script>
</body>
</html>
